[gd_scene load_steps=14 format=2]

[ext_resource path="res://core/Cutscene.tscn" type="PackedScene" id=1]
[ext_resource path="res://cutscenes/CutsceneCamera.tscn" type="PackedScene" id=2]
[ext_resource path="res://objects/train/PassengerCars.tscn" type="PackedScene" id=3]
[ext_resource path="res://actor_framework/NPC.tscn" type="PackedScene" id=4]
[ext_resource path="res://actors/goblin/GoblinPivot.tscn" type="PackedScene" id=5]
[ext_resource path="res://objects/train/TrainHit.tscn" type="PackedScene" id=12]
[ext_resource path="res://autoload/Transition.tscn" type="PackedScene" id=13]
[ext_resource path="res://vfx/transitions/transition_masks/right_to_left.png" type="Texture" id=14]

[sub_resource type="Animation" id=1]
resource_name = "SETUP"
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("PassengerCars:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 51424, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CutsceneCamera:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 41504, -320 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("NPC:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("NPC2:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 288, 0 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("NPC3:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 640, 0 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("NPC:scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -1, 1 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("NPC2:scale")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("NPC3:scale")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -1, 1 ) ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("NPC3:rotation_degrees")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("NPC2:rotation_degrees")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("NPC:rotation_degrees")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("NPC:visible")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/12/type = "value"
tracks/12/path = NodePath("NPC2:visible")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/13/type = "value"
tracks/13/path = NodePath("NPC3:visible")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}

[sub_resource type="Animation" id=2]
resource_name = "loop"
length = 3.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("PassengerCars:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( -17482, 0 ), Vector2( -34094.2, 0 ) ]
}

[sub_resource type="Animation" id=3]
length = 13.2
tracks/0/type = "method"
tracks/0/path = NodePath("CutsceneCamera")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 2, 2.5, 3, 12.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"values": [ {
"args": [ 0.0 ],
"method": "enable"
}, {
"args": [ 5.0, 0.5, 1.0 ],
"method": "request_shake"
}, {
"args": [ 20.0, 2.0, 1.0 ],
"method": "request_shake"
}, {
"args": [ 20.0, 1.0, 1.0 ],
"method": "request_shake"
}, {
"args": [ 0.5 ],
"method": "disable"
} ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CutsceneCamera:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ Vector2( 41504, -320 ), Vector2( 864, -320 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("PassengerCars:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 2, 3.5, 7, 9.7, 10.2, 13.19 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 51424, 0 ), Vector2( 51424, 0 ), Vector2( 18976, 0 ), Vector2( 5856, 0 ), Vector2( 5856, 0 ), Vector2( 848.592, 0 ), Vector2( -17178.1, 0 ) ]
}
tracks/3/type = "method"
tracks/3/path = NodePath("PlayerCutsceneManager")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 10.2, 13.1, 13.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1 ),
"values": [ {
"args": [  ],
"method": "enable"
}, {
"args": [  ],
"method": "hide_player_hud"
}, {
"args": [  ],
"method": "sync_movement"
}, {
"args": [ "lean" ],
"method": "play_animation"
}, {
"args": [ "lean_one_eye_open" ],
"method": "play_animation"
}, {
"args": [  ],
"method": "disable"
}, {
"args": [  ],
"method": "show_player_hud"
} ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("NPC2:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 4.5, 5.2, 10.2, 11, 11.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 288, 0 ), Vector2( 288, 0 ), Vector2( 512, 0 ), Vector2( 512, 0 ), Vector2( -2624, -2016 ), Vector2( -2816, 1664 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("NPC:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 6.6, 7.2, 10.24, 11, 11.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, 0 ), Vector2( 128, 0 ), Vector2( 128, 0 ), Vector2( -3040, -960 ), Vector2( -3264, 1504 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("NPC:scale")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0, 6 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ Vector2( -1, 1 ), Vector2( 1, 1 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("NPC2:scale")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0, 8.2, 8.8, 9, 9.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ Vector2( 1, 1 ), Vector2( -1, 1 ), Vector2( 1, 1 ), Vector2( -1, 1 ), Vector2( 1, 1 ) ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("NPC3:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0, 7.8, 8, 10.2, 11 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 640, 0 ), Vector2( 640, 0 ), Vector2( 608, 0 ), Vector2( 608, 0 ), Vector2( -2240, 1536 ) ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("NPC3:scale")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0, 9.7 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ Vector2( -1, 1 ), Vector2( 1, 1 ) ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("NPC3:rotation_degrees")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PoolRealArray( 0, 10.2, 11 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, 360.0 ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("NPC2:rotation_degrees")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PoolRealArray( 0, 10.2, 11 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, -720.0 ]
}
tracks/12/type = "value"
tracks/12/path = NodePath("NPC:rotation_degrees")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/keys = {
"times": PoolRealArray( 0, 10.24, 11 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, -360.0 ]
}
tracks/13/type = "method"
tracks/13/path = NodePath("NPC/TrainHit")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/keys = {
"times": PoolRealArray( 10.23 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "play"
} ]
}
tracks/14/type = "method"
tracks/14/path = NodePath("NPC2/TrainHit")
tracks/14/interp = 1
tracks/14/loop_wrap = true
tracks/14/imported = false
tracks/14/enabled = true
tracks/14/keys = {
"times": PoolRealArray( 10.22 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "play"
} ]
}
tracks/15/type = "method"
tracks/15/path = NodePath("NPC3/TrainHit")
tracks/15/interp = 1
tracks/15/loop_wrap = true
tracks/15/imported = false
tracks/15/enabled = true
tracks/15/keys = {
"times": PoolRealArray( 10.21 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "play"
} ]
}
tracks/16/type = "method"
tracks/16/path = NodePath("Transition")
tracks/16/interp = 1
tracks/16/loop_wrap = true
tracks/16/imported = false
tracks/16/enabled = true
tracks/16/keys = {
"times": PoolRealArray( 3.5, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"values": [ {
"args": [ "left_to_right", 0.5 ],
"method": "transition_in"
}, {
"args": [ ExtResource( 14 ), 0.5 ],
"method": "transition_out"
} ]
}
tracks/17/type = "value"
tracks/17/path = NodePath("NPC3:visible")
tracks/17/interp = 1
tracks/17/loop_wrap = true
tracks/17/imported = false
tracks/17/enabled = true
tracks/17/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/18/type = "value"
tracks/18/path = NodePath("NPC2:visible")
tracks/18/interp = 1
tracks/18/loop_wrap = true
tracks/18/imported = false
tracks/18/enabled = true
tracks/18/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/19/type = "value"
tracks/19/path = NodePath("NPC:visible")
tracks/19/interp = 1
tracks/19/loop_wrap = true
tracks/19/imported = false
tracks/19/enabled = true
tracks/19/keys = {
"times": PoolRealArray( 0, 11 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/20/type = "method"
tracks/20/path = NodePath("NPC")
tracks/20/interp = 1
tracks/20/loop_wrap = true
tracks/20/imported = false
tracks/20/enabled = true
tracks/20/keys = {
"times": PoolRealArray( 0, 6.6, 7.2, 7.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"values": [ {
"args": [ "idle" ],
"method": "play_animation"
}, {
"args": [ "walk" ],
"method": "play_animation"
}, {
"args": [ "idle" ],
"method": "play_animation"
}, {
"args": [ "stagger" ],
"method": "play_animation"
} ]
}
tracks/21/type = "method"
tracks/21/path = NodePath("NPC2")
tracks/21/interp = 1
tracks/21/loop_wrap = true
tracks/21/imported = false
tracks/21/enabled = true
tracks/21/keys = {
"times": PoolRealArray( 0, 4.5, 5.2, 9.4 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"values": [ {
"args": [ "idle" ],
"method": "play_animation"
}, {
"args": [ "walk" ],
"method": "play_animation"
}, {
"args": [ "idle" ],
"method": "play_animation"
}, {
"args": [ "stagger" ],
"method": "play_animation"
} ]
}
tracks/22/type = "method"
tracks/22/path = NodePath("NPC3")
tracks/22/interp = 1
tracks/22/loop_wrap = true
tracks/22/imported = false
tracks/22/enabled = true
tracks/22/keys = {
"times": PoolRealArray( 0, 7.8, 8, 10.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"values": [ {
"args": [ "idle" ],
"method": "play_animation"
}, {
"args": [ "walk" ],
"method": "play_animation"
}, {
"args": [ "idle" ],
"method": "play_animation"
}, {
"args": [ "stagger" ],
"method": "play_animation"
} ]
}

[sub_resource type="RectangleShape2D" id=4]
resource_local_to_scene = true
extents = Vector2( 256, 256 )

[sub_resource type="CircleShape2D" id=5]
resource_local_to_scene = true
radius = 200.0

[node name="TrainJumpTutorialCutscene" instance=ExtResource( 1 )]

[node name="AnimationPlayer" parent="." index="0"]
anims/SETUP = SubResource( 1 )
anims/loop = SubResource( 2 )
anims/start = SubResource( 3 )
next/start = "loop"

[node name="PlayerCutsceneManager" parent="." index="1"]
position = Vector2( 1568, 0 )
rotation = 3.14159

[node name="CollisionShape2D" parent="CollisionTrigger" index="0"]
shape = SubResource( 4 )

[node name="InteractionArea" parent="." index="3"]
visible = false

[node name="CollisionShape2D" parent="InteractionArea" index="0"]
shape = SubResource( 5 )
disabled = true

[node name="CutsceneCamera" parent="." index="4" instance=ExtResource( 2 )]
position = Vector2( 41504, -320 )
zoom = Vector2( 1.4, 1.4 )

[node name="PassengerCars" parent="." index="5" instance=ExtResource( 3 )]
position = Vector2( -17482, 0 )
scale = Vector2( -1, 1 )

[node name="NPC" parent="." index="6" instance=ExtResource( 4 )]
scale = Vector2( -1, 1 )

[node name="Pivot" parent="NPC" index="10" instance=ExtResource( 5 )]

[node name="TrainHit" parent="NPC" index="11" instance=ExtResource( 12 )]
position = Vector2( -640, 0 )
rotation = 8.74228e-08
queue_free_after_timer = false

[node name="NPC2" parent="." index="7" instance=ExtResource( 4 )]
position = Vector2( 288, 0 )

[node name="Pivot" parent="NPC2" index="10" instance=ExtResource( 5 )]

[node name="TrainHit" parent="NPC2" index="11" instance=ExtResource( 12 )]
position = Vector2( 352, 0 )
rotation = -3.14159
scale = Vector2( 1, -1 )
queue_free_after_timer = false

[node name="NPC3" parent="." index="8" instance=ExtResource( 4 )]
position = Vector2( 640, 0 )
scale = Vector2( -1, 1 )

[node name="Pivot" parent="NPC3" index="10" instance=ExtResource( 5 )]

[node name="TrainHit" parent="NPC3" index="11" instance=ExtResource( 12 )]
queue_free_after_timer = false

[node name="Transition" parent="." index="9" instance=ExtResource( 13 )]

[node name="Control" parent="Transition/TransitionShader" index="1"]
visible = false

[editable path="CollisionTrigger"]

[editable path="InteractionArea"]

[editable path="NPC/Pivot"]

[editable path="NPC2/Pivot"]

[editable path="NPC3/Pivot"]

[editable path="Transition"]

[editable path="Transition/TransitionShader"]
